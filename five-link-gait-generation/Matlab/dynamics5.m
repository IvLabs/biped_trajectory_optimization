function xdot = dynamics5(x,tau)

    global m1 m2 m3 m4 m5 l1 l2 l3 l4 l5 timer
  
    m = [m1 m2 m3 m4 m5];
    l = [l1 l2 l3 l4 l5];
    n = zeros(5);
    p = zeros(5,5);
    q = zeros(5,5);
    g = zeros(5);
    D = zeros(5,5);
    H = zeros(5,5);
    G = zeros(5,1);
    f = 1:1:5;
    
    n=[m(5)*l(1), m(5)*l(2), 0, m(5)*l(5), 0];
    
    p=[((m(1)*(l(1)^2)/3) + (n(1)*l(1))), (m(2)*(l(2)/2)*l(1) + m(2)*l(1)), (m(3)*(l(3)/2)*l(1) + m(3)*l(1)), (m(4)*(l(4)/2)*l(1) + m(4)*l(1)), (m(5)*(l(5)/2)*l(1) + m(5)*l(1));...
       (m(1)*(l(1)/2)*l(2) + m(1)*l(2)), ((m(2)*(l(2)^2)/3) + (n(2)*l(2))), (m(3)*(l(3)/2)*l(2) + m(3)*l(2)), (m(4)*(l(4)/2)*l(2) + m(4)*l(2)), (m(5)*(l(5)/2)*l(2) + m(5)*l(2));...
       (m(1)*(l(1)/2)*l(3) + m(1)*l(3)), (m(2)*(l(2)/2)*l(3) + m(2)*l(3)), ((m(3)*(l(3)^2)/3) + (n(3)*l(3))), 0, 0;...
       (m(1)*(l(1)/2)*l(4) + m(1)*l(4)), (m(2)*(l(2)/2)*l(4) + m(2)*l(4)), (m(3)*(l(3)/2)*l(4) + m(3)*l(4)), ((m(4)*(l(4)^2)/3) + (n(4)*l(4))), (m(5)*(l(5)/2)*l(4) + m(5)*l(4));...
       (m(1)*(l(1)/2)*l(5) + m(1)*l(5)), (m(2)*(l(2)/2)*l(5) + m(2)*l(5)), (m(3)*(l(3)/2)*l(5) + m(3)*l(5)), (m(4)*(l(4)/2)*l(5) + m(4)*l(5)), ((m(5)*(l(5)^2)/3) + (n(5)*l(5)))];
   
   q= [(x(1) - x(1)), (x(1) - x(2)), (x(1) - x(3)), (x(1) + x(4)), (x(1) + x(5));...
       (x(2) - x(1)), (x(2) - x(2)), (x(2) - x(3)), (x(2) + x(4)), (x(2) + x(5));...
       (x(3) - x(1)), (x(3) - x(2)), (x(3) - x(3)), (x(3) + x(4)), (x(3) + x(5));...
       (x(4) + x(1)), (x(4) + x(2)), (x(4) + x(3)), (x(4) - x(4)), (x(4) - x(5));...
       (x(5) + x(1)), (x(5) + x(2)), (x(5) + x(3)), (x(5) - x(4)), (x(5) - x(5))];
   
   D=p.*cos(q);
   H=p.*sin(q);
   
   g=[((m(1)*(l(1)/2) + n(1))*(-9.81)), ((m(2)*(l(2)/2) + n(2))*(-9.81)), ((m(3)*(l(3)/2) + n(3))*(-9.81)), (-(m(4)*(l(4)/2) + n(4))*(-9.81)), (-(m(5)*(l(5)/2) + n(5))*(-9.81))];
   g=g';
   G=g.*sin(x(1:5));
   G=G(:,1);
   T = [tau(1);tau(2);tau(3);tau(4);tau(5)];
   


    
   dot = (((T) - (G) - (H*(x(6:10).^2)))\D);
   xdot = [x(6:10);dot.'];
end